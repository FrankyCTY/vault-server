import { compose, pick, pickBy } from 'ramda';
import { isNotFunction, isNotNilOrEmpty } from 'ramda-adjunct';

export default (keyNames = [], predicate, obj) => {
  if (isNotFunction(predicate)) {
    return isNotNilOrEmpty(obj) ? pick(keyNames)(obj) : pick(keyNames);
  }

  const composedFn = compose(pickBy(predicate), pick(keyNames));
  return isNotNilOrEmpty(obj) ? composedFn(obj) : composedFn;
};
